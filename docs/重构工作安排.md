# 需要对接的part

+ 单位与卡牌的转换：
  + 单位类暴露一个接口用于存储其死亡时需要置入待命区的牌；
  + 卡牌类暴露一个接口用于将卡牌实例置入待命区。
+ 单位产生了Leader实例之后把单位实例回传到EncounterData储存一份。从这里查询遭遇中的Leader实例是谁。
+ 玩家最大手牌数、初始手牌数和每回合抽牌数转为在Encounter类下面存储。

# 卡牌 & 异能

+ 卡牌删除cd，卡牌在手牌、牌库、场上（注：被单位实例所持有）和待命区都用实例进行传输。
+ 卡牌不持有Ability改为持有Spell。
+ 异能类重构，删去杂余的初始化部分。异能类现在不依靠外部信息进行初始化。（当然这样现有的异能基本上都要改，暂时都注释掉。异能的实现也是需要大修的，等框架重构完再说。）
+ 有余力的话顺便调整一下选择和施放状态机，没余力的话暂时放着那堆编译错误不管也是可以的。那样的话输入状态机的事我就再考虑一下。

# 单位

+ 单位持有的成员发生了变化，需要有以下几件：（详情见技术文档和规则文档）
  + 适性、攻击速度（pri的代替，彻底改称SPD）、优先度修正（priSPD）、行动次数和施法次数。
+ 新增了一个英雄类，先实现英雄类的冷却，暴露一个接口用于初始化，具体来说应该是把英雄的基础数值（包括恢复速率）和异能id列表存起来就好，方便部署的时候挂载上去。

# 地图 & Gameplay

+ BattleMap中负责遭遇初始化的部分移交到Gameplay进行，其余的BattleMap有一些冗余代码也处理一下。
+ DataOfThisBattle改为Encounter类，转入Gameplay目录。把Player类和Encounter类合并，查询一些全局概念的内容存储在Encounter类下面就好。
+ EncounterData移到Gameplay目录尽量保证BattleMap下面只有BattleMap的东西。